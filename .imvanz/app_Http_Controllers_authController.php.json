[
  {
    "timestamp": "2025-05-04T17:06:29.118Z",
    "fileName": "app\\Http\\Controllers\\authController.php",
    "content": "<?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Models\\User;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Auth;\nuse Laravel\\Socialite\\Facades\\Socialite;\n\nclass authController extends Controller\n{\n\n    function index(){\n        return view('auth.index');\n    }\n\n    function redirect(){\n        return Socialite::driver('google')->redirect();\n    }\n\n    function callback(){\n\n        $user = Socialite::driver('google')->user();\n        $id = $user->id;\n        $email = $user->email;\n        $name = $user->name;\n\n        $cek = User::where('email', $email)->count();\n        if($cek > 0) {\n            $user = User::updateOrCreate(\n                ['email' => $email],\n                [\n                    'name' => $name,\n                    'google_id' => $id\n                ]\n\n            );\n            Auth::login($user);\n            return redirect() -> to ('dashboard');\n        } else {\n            return redirect() -> to('auth')->with('eror', 'akun yang anda gunakan tidak diizinkan untuk mengakses halaman ini');\n        }\n    }\n\n    public function logout(){\n        Auth::logout();\n        return redirect()-> to ('auth');\n    }\n\n}\n",
    "format": "php"
  },
  {
    "timestamp": "2025-05-04T18:11:22.773Z",
    "fileName": "app\\Http\\Controllers\\authController.php",
    "content": "<?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Models\\User;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Auth;\nuse Laravel\\Socialite\\Facades\\Socialite;\n\nclass authController extends Controller\n{\n\n    function index(){\n        return view('auth.index');\n    }\n\n    function redirect(){\n        return Socialite::driver('google')->redirect();\n    }\n\n    function callback(){\n\n        $user = Socialite::driver('google')->user();\n        $id = $user->id;\n        $email = $user->email;\n        $name = $user->name;\n        $avatar = $user->avatar;\n\n        $cek = User::where('email', $email)->count();\n        if($cek > 0) {\n            $user = User::updateOrCreate(\n                ['email' => $email],\n                [\n                    'name' => $name,\n                    'google_id' => $id\n                ]\n\n            );\n            Auth::login($user);\n            return redirect() -> to ('dashboard');\n        } else {\n            return redirect() -> to('auth')->with('eror', 'akun yang anda gunakan tidak diizinkan untuk mengakses halaman ini');\n        }\n    }\n\n    public function logout(){\n        Auth::logout();\n        return redirect()-> to ('auth');\n    }\n\n}\n",
    "format": "php"
  },
  {
    "timestamp": "2025-05-04T18:11:54.826Z",
    "fileName": "app\\Http\\Controllers\\authController.php",
    "content": "<?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Models\\User;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Auth;\nuse Laravel\\Socialite\\Facades\\Socialite;\n\nclass authController extends Controller\n{\n\n    function index(){\n        return view('auth.index');\n    }\n\n    function redirect(){\n        return Socialite::driver('google')->redirect();\n    }\n\n    function callback(){\n\n        $user = Socialite::driver('google')->user();\n        $id = $user->id;\n        $email = $user->email;\n        $name = $user->name;\n        $avatar = $user->avatar;\n\n        echo $avatar;\n        exit();\n\n        $cek = User::where('email', $email)->count();\n        if($cek > 0) {\n            $user = User::updateOrCreate(\n                ['email' => $email],\n                [\n                    'name' => $name,\n                    'google_id' => $id\n                ]\n\n            );\n            Auth::login($user);\n            return redirect() -> to ('dashboard');\n        } else {\n            return redirect() -> to('auth')->with('eror', 'akun yang anda gunakan tidak diizinkan untuk mengakses halaman ini');\n        }\n    }\n\n    public function logout(){\n        Auth::logout();\n        return redirect()-> to ('auth');\n    }\n\n}\n",
    "format": "php"
  }
]